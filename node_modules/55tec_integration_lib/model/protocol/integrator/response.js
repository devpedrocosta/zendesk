"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ResponseError = exports.isResponse = void 0;
const __1 = require("../");
function isResponse(target) {
    return (!!target
        && (typeof target === 'object')
        && (typeof target.id === 'string')
        && (target.channel === undefined)
        && (target.response)
        && (typeof target.response === 'object')
        && (target.response.code)
        && (Object.values(__1.StatusCode).includes(('' + target.response.code))));
}
exports.isResponse = isResponse;
class ResponseError extends Error {
    constructor(message, code, name) {
        super(message);
        if (code == __1.StatusCode.OK)
            throw new Error(`Invalid error code: ${code}`);
        this.message = message;
        this.code = code;
        this.name = name || '';
    }
    toJSON() {
        return {
            message: this.message,
            code: this.code,
            name: this.name,
        };
    }
    toString() {
        return `${this.name} - ${this.code} - ${this.message}`;
    }
}
exports.ResponseError = ResponseError;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzcG9uc2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJyZXNwb25zZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFLQSwyQkFBaUM7QUE4RWpDLFNBQWdCLFVBQVUsQ0FBQyxNQUFXO0lBRWxDLE9BQU8sQ0FDSCxDQUFDLENBQUMsTUFBTTtXQUNMLENBQUMsT0FBTyxNQUFNLEtBQUssUUFBUSxDQUFDO1dBQzVCLENBQUMsT0FBTyxNQUFNLENBQUMsRUFBRSxLQUFLLFFBQVEsQ0FBQztXQUMvQixDQUFDLE1BQU0sQ0FBQyxPQUFPLEtBQUssU0FBUyxDQUFDO1dBQzlCLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQztXQUNqQixDQUFDLE9BQU8sTUFBTSxDQUFDLFFBQVEsS0FBSyxRQUFRLENBQUM7V0FDckMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQztXQUN0QixDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsY0FBVSxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFlLENBQUMsQ0FBQyxDQUNyRixDQUFDO0FBRU4sQ0FBQztBQWJELGdDQWFDO0FBRUQsTUFBYSxhQUFjLFNBQVEsS0FBSztJQUtwQyxZQUFZLE9BQWUsRUFBRSxJQUFnQixFQUFFLElBQWE7UUFDeEQsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBRWYsSUFBSSxJQUFJLElBQUksY0FBVSxDQUFDLEVBQUU7WUFBRSxNQUFNLElBQUksS0FBSyxDQUFDLHVCQUF1QixJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBRTFFLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztJQUMzQixDQUFDO0lBRUQsTUFBTTtRQUNGLE9BQU87WUFDSCxPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU87WUFDckIsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJO1lBQ2YsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJO1NBQ2xCLENBQUM7SUFDTixDQUFDO0lBRUQsUUFBUTtRQUNKLE9BQU8sR0FBRyxJQUFJLENBQUMsSUFBSSxNQUFNLElBQUksQ0FBQyxJQUFJLE1BQU0sSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQzNELENBQUM7Q0FFSjtBQTNCRCxzQ0EyQkMifQ==